{"version":3,"sources":["webpack:///C:/lib/git/wm_order/wm_order_6_xbzjx/main.js","webpack:///C:/lib/git/wm_order/wm_order_6_xbzjx/pages/my/address.vue?e90d","webpack:///C:/lib/git/wm_order/wm_order_6_xbzjx/pages/my/address.vue?ee61","webpack:///C:/lib/git/wm_order/wm_order_6_xbzjx/pages/my/address.vue?1755","webpack:///C:/lib/git/wm_order/wm_order_6_xbzjx/pages/my/address.vue?28c2","webpack:///C:/lib/git/wm_order/wm_order_6_xbzjx/pages/my/address.vue"],"names":["createPage","Page","data","showEdt","list","isAuthorLocaiton","address","currentLongitude","currentLatitude","onLoad","onInit","methods","db","customerShipAddrs","res","checkAuthorUserLocation","auth","console","log","setData","select","index","uni","setStorageSync","KEY_ORDER_PRE_ADDRESS","currentAdd","$data","prePage","getCurrentPages","length","navigateBack","$vm","setUserAddress","add","show","addAddress","location","getLocation","that","chooseLocation","latitude","longitude","success","deleteAddress","addressId","showModal","title","customerDelShipAddre","addressid","formSubmit","e","formData","detail","value","name","showCancel","phoneNumber","cityName","info","Address","Name","PhoneNumber","CityName","Longitude","Latitude","customerAddShipAddr","close","openSetting","openSettingLocation"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,8F;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAsF;AAC3B;AACL;;;AAGtD;AACsK;AACtK,gBAAgB,sKAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAA+7B,CAAgB,43BAAG,EAAC,C;;;;;;;;;;;;s8BCAn9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACdC,MADc,kBACR;AACL,WAAM;AACLC,aAAO,EAAC,KADH;AAELC,UAAI,EAAC,EAFA;;AAILC,sBAAgB,EAAC,KAJZ;AAKLC,aAAO,EAAC,EALH;AAMLC,sBAAgB,EAAC,CANZ;AAOLC,qBAAe,EAAC,CAPX,EAAN;;AASA,GAXa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","file":"pages/my/address.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/my/address.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./address.vue?vue&type=template&id=451f784a&\"\nimport script from \"./address.vue?vue&type=script&lang=js&\"\nexport * from \"./address.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\所有软件\\\\HBuilderX.2.4.6.20191210.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('451f784a', component.options)\n    } else {\n      api.reload('451f784a', component.options)\n    }\n    module.hot.accept(\"./address.vue?vue&type=template&id=451f784a&\", function () {\n      api.rerender('451f784a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"lib/git/wm_order/wm_order_6_xbzjx/pages/my/address.vue\"\nexport default component.exports","export * from \"-!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=template&id=451f784a&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata(){\n\t\treturn{\n\t\t\tshowEdt:false,\n\t\t\tlist:[],\n\t\t\t\n\t\t\tisAuthorLocaiton:false,\n\t\t\taddress:\"\",\n\t\t\tcurrentLongitude:0,\n\t\t\tcurrentLatitude:0,\n\t\t}\n\t},\n\tonLoad(){\n\t\tthis.onInit()\n\t},\n\t\n\tmethods:{\n\t\tasync onInit(){\n\t\t\t// var list = [\n\t\t\t// \t{ address:\"2idsado\",name:\"我的\", phone:\"157778545\"},\n\t\t\t// ]\n\t\t\tvar res = await this.db.customerShipAddrs()\n\t\t\tvar auth = await this.db.checkAuthorUserLocation()\n\t\t\tconsole.log(auth)\n\t\t\tthis.setData({\n\t\t\t\tlist:res.data,\n\t\t\t\tisAuthorLocaiton: auth\n\t\t\t})\n\t\t},\n\t\tselect(index){\n\t\t\tuni.setStorageSync( this.db.KEY_ORDER_PRE_ADDRESS  , index)\n\t\t\tvar currentAdd = this.$data.list[index]\n\t\t\tvar prePage = getCurrentPages()[ getCurrentPages().length - 2] \n\t\t\t\n\t\t\t// // debugger\n\t\t\t// var order = prePage.data.order\n\t\t\t// // debugger\n\t\t\t// prePage.setData({\n\t\t\t// \tReciveAddress : currentAdd.address,\n\t\t\t// \tReciveName : currentAdd.name,\n\t\t\t// \tRecivePhone : currentAdd.phoneNumber,\n\t\t\t// \tReciveCityName : currentAdd.cityName,\n\t\t\t// })\n\t\t\t// if(prePage.hasOwnProperty(\"getSFPreOrder\"))\n\t\t\t// prePage.getSFPreOrder()\n\t\t\tuni.navigateBack({})\n\t\t\tprePage.$vm.setUserAddress(currentAdd)\n\t\t},\n\t\t\n\t\t\n\t\tadd(){\t\t\t\t\n\t\t\tthis.show()\n\t\t},\n\t\n\t\t// 增加地址\n\t\tasync addAddress(){\n\t\t\t\n\t\t\tvar location = this.db.getLocation()\n\t\t\tvar that = this\n\t\t\tuni.chooseLocation({\n\t\t\t\tlatitude: location.latitude,\n\t\t\t\tlongitude: location.longitude,\n\t\t\t\t\n\t\t\t\tsuccess(res){\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\taddress:res.address,\n\t\t\t\t\t\tcurrentLongitude:res.longitude,\n\t\t\t\t\t\tcurrentLatitude:res.latitude,\n\t\t\t\t\t})\t\n\t\t\t\t\tthat.show()\n\t\t\t\t\t// var addressList = that.data.addressList\n\t\t\t\t\t// addressList.push({\n\t\t\t\t\t// \tlatitude: res.latitude, \n\t\t\t\t\t// \tlongitude: res.longitude,\n\t\t\t\t\t// })                \n\t\t\t\t\t// that.setData({addressList: addressList})\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 删除地址\n\t\tdeleteAddress(addressId){\n\t\t\tvar that = this\n\t\t\tconsole.log(addressId)\n\t\t\tuni.showModal({\n\t\t\t\ttitle:\"是否删除该地址？\",\n\t\t\t\tsuccess(){\n\t\t\t\t\tthat.db.customerDelShipAddre({\n\t\t\t\t\t\taddressid:addressId\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tthat.onInit()\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 添加地址成功\n\t\tasync formSubmit(e){\n\t\t\tvar formData = e.detail.value\n\t\t\t// console.log(e)\n\t\t\tif(formData.name == \"\") {\n\t\t\t\tuni.showModal({title:\"请输入姓名\" , showCancel:false})\n\t\t\t\treturn \n\t\t\t}\n\t\t\tif(formData.phoneNumber == \"\") {\n\t\t\t\tuni.showModal({title:\"请输入电话\" , showCancel:false})\n\t\t\t\treturn \n\t\t\t}\n\t\t\tif(formData.phoneNumber.length < 11 ) {\n\t\t\t\tuni.showModal({title:\"请输入正确的电话号码\" , showCancel:false})\n\t\t\t\treturn \n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tvar cityName = formData.cityName \t\t\t\t\n\t\t\tif ( cityName == \"北京\" || cityName == \"北京市\"  ) \n\t\t\t\tcityName =  \"北京市\"\n\t\t\telse\n\t\t\t\tcityName =  \"南宁市\"\n\t\t\t\n\t\t\tvar  info = {\n\t\t\t\tAddress:formData.address,\n\t\t\t\tName:formData.name,\n\t\t\t\tPhoneNumber:formData.phoneNumber,\n\t\t\t\tCityName:cityName,\n\t\t\t\tLongitude:formData.longitude,\n\t\t\t\tLatitude:formData.latitude,\n\t\t\t}\n\t\t\t// TODO  上传地址\n\t\t\tvar res = await this.db.customerAddShipAddr(info)\n\t\t\tthis.onInit()\n\t\t\tthis.close()\n\t\t},\n\t\tasync openSetting(){\n\t\t\t// debugger\n\t\t\t// if( await this.db.checkAuthorUserLocation()) {\n\t\t\t\tvar res = await this.db.openSettingLocation()\n\t\t\t\tconsole.log(res)\n\t\t\t\tthis.setData({\n\t\t\t\t\tisAuthorLocaiton: res\n\t\t\t\t})\n\t\t\t// }\n\t\t},\n\t\t// 打开模态框\n\t\tshow(){\n\t\t\tthis.setData({\n\t\t\t\tshowEdt:true,\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 关闭模态框\n\t\tclose(){\n\t\t\tthis.setData({\n\t\t\t\tshowEdt:false,\n\t\t\t})\n\t\t},\n\t},\n}\n"],"sourceRoot":""}