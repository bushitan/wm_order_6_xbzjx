{"version":3,"sources":["webpack:///C:/lib/git/wm_order/wm_order_6_xbzjx/main.js","webpack:///C:/lib/git/wm_order/wm_order_6_xbzjx/pages/menu/menu.vue?136d","webpack:///C:/lib/git/wm_order/wm_order_6_xbzjx/pages/menu/menu.vue?fb90","webpack:///C:/lib/git/wm_order/wm_order_6_xbzjx/pages/menu/menu.vue?7eba","webpack:///C:/lib/git/wm_order/wm_order_6_xbzjx/pages/menu/menu.vue?bd09","webpack:///C:/lib/git/wm_order/wm_order_6_xbzjx/pages/menu/menu.vue","webpack:///C:/lib/git/wm_order/wm_order_6_xbzjx/pages/menu/menu.vue?711d","webpack:///C:/lib/git/wm_order/wm_order_6_xbzjx/pages/menu/menu.vue?a9af"],"names":["createPage","Page","data","CustomBar","SpaceBottom","showReLoad","cardCur","swiperList","list","tabCur","mainCur","verticalNavTop","load","showChoice","showOrder","currentItem","imgs","src","tags","attributes","isSelect","productAttributeName","attributeValues","categoryIndex","itemIndex","attIndex","valueIndex","key","order","totalPrice","totalQuantity","shopId","shopName","shopDiscount","onLoad","options","setData","uni","getStorageSync","db","KEY_SHOP_ID","KEY_SHOP_NAME","onInit","onReady","methods","selectShop","redirectTo","url","test","productMenu","$data","then","res","code","temp","i","length","id","catch","TabSelect","e","currentTarget","dataset","VerticalMain","that","tabHeight","view","createSelectorQuery","select","console","log","fields","size","top","height","bottom","exec","scrollTop","detail","openDetail","updateCurrentItem","initSelect","updateKey","confirmDetail","openBill","closeShow","clickAtt","addItem","updateOrder","updateMenu","updateTotal","setStorageSync","cutItem","addOrder","cutOrder","Object","keys","j","products","isAdd","Attributes","attDes","push","productAttributeID","name","substr","hasOwnProperty","ProductId","Quantity","cover","price","total","parseFloat","toFixed","num","parseInt","toPay","navigateTo"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,0F;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmF;AAC3B;AACL;AACa;;;AAGhE;AACsK;AACtK,gBAAgB,sKAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAA47B,CAAgB,y3BAAG,EAAC,C;;;;;;;;;;;;s8BCAh9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACdC,MADc,kBACP;AACN,WAAO;AACNC,eAAS,EAAC,KAAKA,SADT;AAENC,iBAAW,EAAC,CAFN;;AAINC,gBAAU,EAAC,KAJL;;AAMNC,aAAO,EAAE,CANH;AAONC,gBAAU,EAAC;AACV,4CADU,CAPL;;;;;AAaNC,UAAI,EAAE,EAbA;AAcNC,YAAM,EAAE,CAdF;AAeNC,aAAO,EAAE,CAfH;AAgBNC,oBAAc,EAAE,CAhBV;AAiBNC,UAAI,EAAE,IAjBA;;AAmBNC,gBAAU,EAAC,KAnBL,EAmBY;AAClBC,eAAS,EAAC,KApBJ,EAoBW;;AAEjB;AACAC,iBAAW,EAAC;AACXC,YAAI,EAAC;AACJ,UAACC,GAAG,EAAC,EAAL,EADI,CADM;;AAIXC,YAAI,EAAC,EAJM;AAKXC,kBAAU,EAAC;AA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","file":"pages/menu/menu.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/menu/menu.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./menu.vue?vue&type=template&id=62ea71b5&\"\nimport script from \"./menu.vue?vue&type=script&lang=js&\"\nexport * from \"./menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menu.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\所有软件\\\\HBuilderX.2.4.6.20191210.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('62ea71b5', component.options)\n    } else {\n      api.reload('62ea71b5', component.options)\n    }\n    module.hot.accept(\"./menu.vue?vue&type=template&id=62ea71b5&\", function () {\n      api.rerender('62ea71b5', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"lib/git/wm_order/wm_order_6_xbzjx/pages/menu/menu.vue\"\nexport default component.exports","export * from \"-!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./menu.vue?vue&type=template&id=62ea71b5&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = Object.keys(_vm.order)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./menu.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tCustomBar:this.CustomBar,\n\t\t\tSpaceBottom:0,\n\t\t\t\n\t\t\tshowReLoad:false,\n\t\t\t\n\t\t\tcardCur: 0,\n\t\t\tswiperList:[\n\t\t\t\t\"../../static/images/strong/share.jpg\",\n\t\t\t\t// \"https://wm.51zfgx.com/images/thumbs/0002363.jpeg\",\n\t\t\t],\n\t\t\t\n\t\t\t\n\t\t\tlist: [],\n\t\t\ttabCur: 0,\n\t\t\tmainCur: 0,\n\t\t\tverticalNavTop: 0,\n\t\t\tload: true,\n\t\t\t\n\t\t\tshowChoice:false, //展示详情\n\t\t\tshowOrder:false, // 展示账单\n\t\t\t\n\t\t\t// 当前选择的蟾皮\t\t\t\t\t\t\t\t\n\t\t\tcurrentItem:{\n\t\t\t\timgs:[\n\t\t\t\t\t{src:\"\"},\n\t\t\t\t],\n\t\t\t\ttags:[],\n\t\t\t\tattributes:[\n\t\t\t\t\t{\n\t\t\t\t\t\tisSelect:false,\n\t\t\t\t\t\tproductAttributeName:\"\",\n\t\t\t\t\t\tattributeValues:[],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\t\t\t\t\n\t\t\t\n\t\t\tcategoryIndex:0,  // 当前选择的目录\n\t\t\titemIndex:0, // 当前选择产品标志位\n\t\t\tattIndex:0, //属性标志位\n\t\t\tvalueIndex:0,// 值标志位\n\t\t\t\n\t\t\tkey:\"\", //订单对应的 标签序列号\n\t\t\torder:{\n\t\t\t\t// '0_0_0_0':{Quantity:0}\n\t\t\t}, //订单数据\n\t\t\ttotalPrice:0,\n\t\t\ttotalQuantity:0,\n\t\t\t\n\t\t\tshopId:\"\",\n\t\t\tshopName:\"南湖店\",\n\t\t\tshopDiscount:\"消费满45元减免顺丰配送费\",\n\t\t};\n\t},\n\tasync onLoad(options) {\n\t\t// uni.showLoading({\n\t\t// \ttitle: '加载中...',\n\t\t// \tmask: true\n\t\t// });\n\t\tthis.setData({\t\t\t\t\n\t\t\tshopId:uni.getStorageSync(this.db.KEY_SHOP_ID) || \"\",\n\t\t\tshopName:uni.getStorageSync(this.db.KEY_SHOP_NAME) || \"\",\n\t\t})\t\t\t\n\t\tthis.onInit()\t\t\t\t\t\n\t\t// var that = this \n\t\t// setInterval(function(){that.test()},500)\n\t},\n\tonReady() {\n\t\t// uni.hideLoading()\n\t},\n\tmethods: {\n\t\t// 选择门店\n\t\tselectShop(){\n\t\t\tuni.redirectTo({\n\t\t\t\turl: '/pages/index/index'\n\t\t\t});\n\t\t},\n\t\t\n\t\ttest(){\n\t\t\t\n\t\t\tthis.db.productMenu({\n\t\t\t\tshopId:this.$data.shopId\n\t\t\t}).then(res=>{\n\t\t\t\t// if(res.hasOwnProperty(\"msg\") == false){\n\t\t\t\t// \tconsole.log(  new Date() )\n\t\t\t\t// \tuni.request({\n\t\t\t\t// \t\turl:this.db.HOST_URL + \"api/log/addlog/\",\n\t\t\t\t// \t\tmethod:\"POST\",\n\t\t\t\t// \t\tdata:{\n\t\t\t\t// \t\t\tlogmsg:'menu , error ' +res\n\t\t\t\t// \t\t}\n\t\t\t\t// \t})\n\t\t\t\t// }\n\t\t\t})\n\t\t\t\n\t\t\t// console.log(res)\n\t\t},\n\t\tasync onInit(){\n\t\t\t\n\t\t\t// var res = await this.db.productMenu({\n\t\t\t// \tshopId:this.$data.shopId\n\t\t\t// })\n\t\t\t// var temp = res.data\n\t\t\t// for(var i=0; i<temp.length ;i++)\n\t\t\t// \ttemp[i].id = i\n\t\t\t// this.setData({\n\t\t\t// \tlist:temp,\n\t\t\t// })\n\t\t\tthis.db.productMenu({\n\t\t\t\tshopId:this.$data.shopId\n\t\t\t}).then(res=>{\n\t\t\t\tif(res.code == 0){\n\t\t\t\t\tvar temp = res.data\n\t\t\t\t\tfor(var i=0; i<temp.length ;i++)\n\t\t\t\t\t\ttemp[i].id = i\n\t\t\t\t\tthis.setData({\n\t\t\t\t\t\tlist:temp,\n\t\t\t\t\t\tshowReLoad:false\n\t\t\t\t\t})\t\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tthis.setData({ showReLoad:true })\n\t\t\t\t}\t\t\t\t\t\n\t\t\t}).catch(res=>{\n\t\t\t\tthis.setData({ showReLoad:true})\n\t\t\t})\n\t\t\t\n\t\t\t\n\t\t},\n\t\t\n\t\t\n\t\tTabSelect(e) {\n\t\t\tthis.tabCur = e.currentTarget.dataset.id;\n\t\t\tthis.mainCur = e.currentTarget.dataset.id;\n\t\t\tthis.verticalNavTop = (e.currentTarget.dataset.id - 1) * 50\n\t\t},\n\t\tVerticalMain(e) {\n\n\n\n\t\t\tlet that = this;\n\t\t\tlet tabHeight = 0;\n\t\t\tif (this.load) {\n\t\t\t\tfor (let i = 0; i < this.list.length; i++) {\n\t\t\t\t\tlet view = uni.createSelectorQuery().select(\"#main-\" + this.list[i].id);\n\t\t\t\t\tconsole.log(this.list[i])\n\t\t\t\t\t\n\t\t\t\t\tview.fields({\n\t\t\t\t\t\tsize: true\n\t\t\t\t\t}, data => {\n\t\t\t\t\t\tthis.list[i].top = tabHeight;\n\t\t\t\t\t\ttabHeight = tabHeight + data.height;\n\t\t\t\t\t\tthis.list[i].bottom = tabHeight;\n\t\t\t\t\t}).exec();\n\t\t\t\t}\n\t\t\t\tthis.load = false\n\t\t\t}\n\t\t\tlet scrollTop = e.detail.scrollTop + 10;\n\t\t\tfor (let i = 0; i < this.list.length; i++) {\n\t\t\t\tif (scrollTop > this.list[i].top && scrollTop < this.list[i].bottom) {\n\t\t\t\t\tthis.verticalNavTop = (this.list[i].id - 1) * 50\n\t\t\t\t\tthis.tabCur = this.list[i].id\n\t\t\t\t\tconsole.log(scrollTop)\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\t\n\t\t},\n\t\t\n\t\t/*************模态框**************/\n\t\t\n\t\t// 展示产品详情\n\t\tasync openDetail(categoryIndex,itemIndex){\t\t\t\t\t\t\n\t\t\t// var currentItem = this.$data.list[categoryIndex].products[itemIndex] \n\t\t\t// console.log(currentItem)\n\t\t\t// 初始化订单数据\t\t\t\t\t\t\t\n\t\t\tthis.setData({\n\t\t\t\tshowChoice:true,\n\t\t\t\tcategoryIndex:categoryIndex,\n\t\t\t\titemIndex:itemIndex,\n\t\t\t\t// currentItem:currentItem\n\t\t\t})\t\t\t\t\n\t\t\t\t\t\n\t\t\tthis.updateCurrentItem()\n\t\t\tthis.initSelect()  // 点击窗口后，初始化选择框\t\n\t\t\tthis.updateKey() // 初始化key\n\t\t\t\n\t\t},\n\t\t\n\t\t// 确定订单\n\t\tconfirmDetail(){ this.setData({showChoice:false,}) },\t\t\t\n\t\t// 展示订单\n\t\topenBill(){ this.setData({showOrder:true,}) },\n\t\t// 关闭模态框\n\t\tcloseShow(){ this.setData({showChoice:false,showOrder:false,}) },\n\t\t\n\t\t/***********详情操作*********/\n\t\t\n\t\t// 切换SKU\n\t\tclickAtt(attIndex,valueIndex){\n\t\t\tvar categoryIndex = this.$data.categoryIndex\n\t\t\tvar itemIndex = this.$data.itemIndex\t\t\n\t\t\tvar currentItem = this.$data.currentItem\t\t\t\t\t\t\t\t\n\t\t\tfor(var i=0; i<currentItem.attributes[attIndex].attributeValues.length ; i++){ //将已经选择的置false\n\t\t\t\tcurrentItem.attributes[attIndex].attributeValues[i].isSelect = false\n\t\t\t}\n\t\t\tcurrentItem.attributes[attIndex].attributeValues[valueIndex].isSelect = true // 选择SKU\n\t\t\tthis.$data.currentItem = {}\n\t\t\tthis.$data.currentItem = currentItem // 更新当前SKU信息\n\t\t\tthis.$data.attIndex = attIndex\t\t// 更新属性位置\t\n\t\t\tthis.$data.valueIndex = valueIndex\t// 更新值位置\t\t\t\n\t\t\tthis.updateKey() //设置当前key为SKU的序列号\n\t\t},\n\t\t// 增加数量\n\t\taddItem(){\n\t\t\tconsole.log(\"+\")\n\t\t\tthis.updateCurrentItem()\n\t\t\tthis.updateKey()\n\t\t\tthis.updateOrder(true)\n\t\t\tthis.updateMenu(true)\n\t\t\tthis.updateTotal()\n\t\t\t\n\t\t\tuni.setStorageSync(\"order\", this.$data.order)\n\t\t},\n\t\t// 减少数量\n\t\tcutItem(){\n\t\t\tconsole.log(\"-\")\n\t\t\tthis.updateCurrentItem()\n\t\t\tthis.updateKey()\n\t\t\tthis.updateOrder(false)\n\t\t\tthis.updateMenu(false)\n\t\t\tthis.updateTotal()\n\t\t\t\n\t\t\tuni.setStorageSync(\"order\", this.$data.order)\t\t\t\t\n\t\t},\n\t\t\n\t\t// 订单内的增删\n\t\taddOrder(categoryIndex,itemIndex,attIndex,valueIndex){\n\t\t\tthis.setData({\n\t\t\t\tcategoryIndex: categoryIndex,  // 当前选择的目录\n\t\t\t\titemIndex:itemIndex, // 当前选择产品标志位\n\t\t\t\tattIndex:attIndex, //属性标志位\n\t\t\t\tvalueIndex:valueIndex,\n\t\t\t})\n\t\t\tthis.addItem()\t\n\t\t\t\n\t\t},\n\t\tcutOrder(categoryIndex,itemIndex,attIndex,valueIndex){\t\t\n\t\t\tthis.setData({\n\t\t\t\tcategoryIndex: categoryIndex,  // 当前选择的目录\n\t\t\t\titemIndex:itemIndex, // 当前选择产品标志位\n\t\t\t\tattIndex:attIndex, //属性标志位\n\t\t\t\tvalueIndex:valueIndex,\n\t\t\t})\n\t\t\tthis.cutItem()\t\n\t\t\tif(Object.keys(this.$data.order ).length == 0)\n\t\t\t\tthis.closeShow()\n\t\t\t// console.log(this.$data.order.length)\n\t\t},\n\t\t\n\t\t/////////////////公共工具///////////////\n\t\t// 初始化选择框\n\t\tinitSelect(){\n\t\t\tvar currentItem = this.$data.currentItem\t\t\n\t\t\t// 初始化订单数据\n\t\t\tfor(var i=0; i<currentItem.attributes.length ; i++){\n\t\t\t\tfor(var j=0; j<currentItem.attributes[i].attributeValues.length ; j++){\t\t\t\t\t\t\n\t\t\t\t\tif(j == 0)\n\t\t\t\t\t\tcurrentItem.attributes[i].attributeValues[j].isSelect = true\n\t\t\t\t\telse\t\n\t\t\t\t\t\tcurrentItem.attributes[i].attributeValues[j].isSelect = false\n\t\t\t\t}\n\t\t\t}\n\t\t},\t\t\t\n\t\t// 设置当前订单\n\t\tupdateCurrentItem(){\n\t\t\tthis.setData({ currentItem : this.$data.list[this.$data.categoryIndex].products[this.$data.itemIndex] , })\n\t\t},\n\t\t// 设置key\n\t\tupdateKey(){\n\t\t\tvar key =  this.$data.categoryIndex + \"_\" + this.$data.itemIndex + \"_\"\n\t\t\tvar currentItem = this.$data.currentItem\n\t\t\tfor(var i=0; i<currentItem.attributes.length ; i++){\n\t\t\t\tfor(var j=0; j<currentItem.attributes[i].attributeValues.length ; j++){\n\t\t\t\t\tif(currentItem.attributes[i].attributeValues[j].isSelect == true){\n\t\t\t\t\t\tkey = key + i + \"_\" + j + \"_\" \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$data.key = key\t\t\t\t\n\t\t},\n\t\t\n\t\t// 更新已选择订单order\n\t\tupdateOrder(isAdd){\t\t\t\t\n\t\t\tvar order = this.$data.order\n\t\t\t// var currentItem = this.$data.list[this.$data.categoryIndex].products[this.$data.itemIndex] // 当前\n\t\t\tvar currentItem = this.$data.currentItem\n\t\t\tvar Attributes = []\t//上传属性列表\t\t\n\t\t\tvar attDes=\"\" // 属性描述\n\t\t\tfor(var i=0; i<currentItem.attributes.length ; i++){\n\t\t\t\tfor(var j=0; j<currentItem.attributes[i].attributeValues.length ; j++){\n\t\t\t\t\tif(currentItem.attributes[i].attributeValues[j].isSelect == true){\n\t\t\t\t\t\tAttributes.push({\n\t\t\t\t\t\t\t\"Id\": currentItem.attributes[i].productAttributeID,\n\t\t\t\t\t\t\t\"Value\": currentItem.attributes[i].attributeValues[j].id\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t})\n\t\t\t\t\t\tattDes = attDes + currentItem.attributes[i].attributeValues[j].name + \"、\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\t\n\t\t\tattDes = attDes.substr(0, attDes.length - 1);  // 删除最后一个字符\n\t\t\tvar key = this.$data.key\n\t\t\tif( order.hasOwnProperty(key) == false){\n\t\t\t\torder[key] = {\n\t\t\t\t\t// 下单需要参数\n\t\t\t\t\tProductId:currentItem.id,\n\t\t\t\t\tQuantity: 1,\n\t\t\t\t\tAttributes:Attributes,\n\t\t\t\t\t// 展示需要参数\n\t\t\t\t\tcover:currentItem.imgs? currentItem.imgs[0] ? currentItem.imgs[0].src : \"\" :\"\" ,\n\t\t\t\t\tname:currentItem.name,\n\t\t\t\t\tprice:currentItem.price,\n\t\t\t\t\ttotal:parseFloat(currentItem.price).toFixed(2),\n\t\t\t\t\tattDes:attDes,\n\t\t\t\t\t// 订单位置标记\n\t\t\t\t\tcategoryIndex: this.$data.categoryIndex,  // 当前选择的目录\n\t\t\t\t\titemIndex:this.$data.itemIndex, // 当前选择产品标志位\n\t\t\t\t\tattIndex:this.$data.attIndex, //属性标志位\n\t\t\t\t\tvalueIndex:this.$data.valueIndex,// 值标志位\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(isAdd)\n\t\t\t\t\torder[key].Quantity += 1 \n\t\t\t\telse{\n\t\t\t\t\torder[key].Quantity -= 1 \t\t\n\t\t\t\t\torder[key].Quantity < 0 ? 0 :order[key].Quantity\n\t\t\t\t}\n\t\t\t\torder[key].total = parseFloat( order[key].Quantity * order[key].price ).toFixed(2)\n\t\t\t}\n\t\t\t\n\t\t\t// 删除key下的数据\n\t\t\tif(order[key].Quantity <= 0)\n\t\t\t\tdelete order[key]\n\t\t\tthis.$data.order = []\n\t\t\tthis.$data.order = order\n\t\t\t\n\t\t\t\n\t\t\t// console.log(key,Attributes,attDes)\n\t\t\t\n\t\t\t// order[key] = OrderItems\n\t\t},\n\t\t\n\t\t// 更新menu，选项卡的数量\n\t\tupdateMenu(isAdd){\n\t\t\tvar list = this.$data.list\n\t\t\t// debugger\n\t\t\tif( list[this.$data.categoryIndex].products[this.$data.itemIndex].hasOwnProperty(\"num\") == false)\n\t\t\t\tlist[this.$data.categoryIndex].products[this.$data.itemIndex].num = 0\n\t\t\t\t\n\t\t\tif(isAdd)\n\t\t\t\tlist[this.$data.categoryIndex].products[this.$data.itemIndex].num += 1 \n\t\t\telse{\n\t\t\t\t\n\t\t\t\tlist[this.$data.categoryIndex].products[this.$data.itemIndex].num -= 1 \n\t\t\t\tlist[this.$data.categoryIndex].products[this.$data.itemIndex].num < 0 ? 0 :list[this.$data.categoryIndex].products[this.$data.itemIndex].num\n\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\tthis.$data.list = [] \n\t\t\tthis.$data.list = list\n\t\t},\n\t\t\n\t\tupdateTotal(){\n\t\t\tvar totalPrice = 0\n\t\t\tvar totalQuantity = 0\n\t\t\tvar order = this.$data.order\n\t\t\tfor(var i in order){\n\t\t\t\ttotalPrice += order[i].Quantity * order[i].price\n\t\t\t\ttotalQuantity += order[i].Quantity\n\t\t\t}\n\t\t\tconsole.log(totalPrice,totalQuantity)\n\t\t\tthis.setData({\n\t\t\t\ttotalPrice:parseFloat(totalPrice).toFixed(2), \n\t\t\t\ttotalQuantity: parseInt( totalQuantity ),\n\t\t\t})\n\t\t},\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t/******路由******/\n\t\ttoPay(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl:\"/pages/order/pay\"\n\t\t\t})\n\t\t},\n\t\t\n\t\t\n\t},\n}\n","import mod from \"-!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./menu.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./menu.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}