(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/good/good"],{

/***/ 107:
/*!***********************************************************************************!*\
  !*** C:/lib/git/wm_order/wm_order_6_xbzjx/main.js?{"page":"pages%2Fgood%2Fgood"} ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);__webpack_require__(/*! @dcloudio/uni-stat */ 5);

var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _good = _interopRequireDefault(__webpack_require__(/*! ./pages/good/good.vue */ 108));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_good.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 108:
/*!****************************************************************!*\
  !*** C:/lib/git/wm_order/wm_order_6_xbzjx/pages/good/good.vue ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _good_vue_vue_type_template_id_17497c75___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./good.vue?vue&type=template&id=17497c75& */ 109);
/* harmony import */ var _good_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./good.vue?vue&type=script&lang=js& */ 111);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _good_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _good_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js */ 14);





/* normalize component */

var component = Object(_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _good_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _good_vue_vue_type_template_id_17497c75___WEBPACK_IMPORTED_MODULE_0__["render"],
  _good_vue_vue_type_template_id_17497c75___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "lib/git/wm_order/wm_order_6_xbzjx/pages/good/good.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 109:
/*!***********************************************************************************************!*\
  !*** C:/lib/git/wm_order/wm_order_6_xbzjx/pages/good/good.vue?vue&type=template&id=17497c75& ***!
  \***********************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_good_vue_vue_type_template_id_17497c75___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./good.vue?vue&type=template&id=17497c75& */ 110);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_good_vue_vue_type_template_id_17497c75___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_good_vue_vue_type_template_id_17497c75___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ 110:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/lib/git/wm_order/wm_order_6_xbzjx/pages/good/good.vue?vue&type=template&id=17497c75& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 111:
/*!*****************************************************************************************!*\
  !*** C:/lib/git/wm_order/wm_order_6_xbzjx/pages/good/good.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_good_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../所有软件/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./good.vue?vue&type=script&lang=js& */ 112);
/* harmony import */ var _HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_good_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_good_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_good_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_good_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_2_4_6_20191210_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_good_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 112:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/lib/git/wm_order/wm_order_6_xbzjx/pages/good/good.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _regenerator = _interopRequireDefault(__webpack_require__(/*! ./node_modules/@babel/runtime/regenerator */ 83));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {Promise.resolve(value).then(_next, _throw);}}function _asyncToGenerator(fn) {return function () {var self = this,args = arguments;return new Promise(function (resolve, reject) {var gen = fn.apply(self, args);function _next(value) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);}function _throw(err) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);}_next(undefined);});};} //
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
var _default =

{
  data: function data() {
    return {
      SpaceBottom: 50,
      itemId: "", // 商品ID
      currentItem: {},
      categoryIndex: 0, // 当前选择的目录
      itemIndex: 0, // 当前选择产品标志位
      attIndex: 0, //属性标志位
      valueIndex: 0, // 值标志位
      key: "", //订单对应的 标签序列号
      order: {
        // '0_0_0_0':{Quantity:0}
      }, //订单数据

      totalPrice: 0,
      totalQuantity: 0,

      showOrder: false,
      shopDiscount: "数量有限，限时优惠抢购",

      isMore: true,
      isLoading: true,

      showMiniBtn: false,
      miniConfig: [] };

  },
  onLoad: function onLoad(options) {
    console.log("onload");
    this.setData({
      itemId: options.itemId || "" });

    this.onInit();
  },

  onShareAppMessage: function onShareAppMessage() {
    return {
      title: this.$data.currentItem.name,
      imageUrl: this.$data.currentItem.imgs[0].src || "",
      path: "/pages/good/good?itemId=" + this.$data.itemId };

  },
  methods: {
    toOther: function toOther() {
      uni.mini;
      uni.navigateToMiniProgram({
        appId: this.$data.miniConfig[1],
        path: this.$data.miniConfig[2],
        success: function success(res) {
          console.log("success", res);
        },
        fail: function fail(res) {
          console.log("fail", res);
        } });

    },
    previewImage: function previewImage() {
      uni.previewImage({
        urls: [this.$data.currentItem.imgs[0].src] });

    },
    chechMini: function chechMini() {
      if (!this.$data.currentItem.shortDescription)
      return;
      var miniConfig = this.$data.currentItem.shortDescription.split("-");
      if (miniConfig.length == 3) {
        this.setData({
          showMiniBtn: true,
          miniConfig: miniConfig });

      }
    },

    onInit: function () {var _onInit = _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee() {var res, item;return _regenerator.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:if (!(



                uni.getStorageSync(this.db.KEY_SESSION) == "")) {_context.next = 4;break;}_context.next = 3;return (
                  this.db.customerGetToken());case 3:res = _context.sent;case 4:_context.next = 6;return (


                  this.db.productGetDetail({
                    ID: this.$data.itemId }));case 6:res = _context.sent;


                item = res.data;
                // item.order_max_quantity = 2
                // item.order_min_quantity = 1
                // item.stock = 1
                this.setData({
                  currentItem: item,
                  isLoading: false
                  // order:{},  //
                });
                // this.updateTotal()
                this.checkIsMore(); // 判断库存
                this.initSelect(); // 初始化选择框

                this.chechMini();

                this.addItem();case 13:case "end":return _context.stop();}}}, _callee, this);}));function onInit() {return _onInit.apply(this, arguments);}return onInit;}(),


    // 判断是否还有库存
    checkIsMore: function checkIsMore() {
      // v-if="currentItem.order_max_quantity <= totalQuantity " 
      var isMore = true;
      if (this.$data.totalQuantity >= this.$data.currentItem.order_max_quantity) // 大于品类限制
        isMore = false;
      if (this.$data.totalQuantity >= this.$data.currentItem.stock) // 大于库存
        isMore = false;
      this.setData({
        isMore: isMore });

    },


    // 确定订单
    confirmDetail: function confirmDetail() {
      this.toPay();
    },
    // 展示订单
    openBill: function openBill() {this.setData({ showOrder: true });},
    // 关闭模态框
    closeShow: function closeShow() {this.setData({ showOrder: false });},

    // 初始化选择框
    initSelect: function initSelect() {
      var currentItem = this.$data.currentItem;
      // 初始化订单数据
      for (var i = 0; i < currentItem.attributes.length; i++) {
        for (var j = 0; j < currentItem.attributes[i].attributeValues.length; j++) {
          if (j == 0)
          currentItem.attributes[i].attributeValues[j].isSelect = true;else

          currentItem.attributes[i].attributeValues[j].isSelect = false;
        }
      }
    },

    clickAtt: function clickAtt(attIndex, valueIndex) {
      var categoryIndex = this.$data.categoryIndex;
      var itemIndex = this.$data.itemIndex;
      var currentItem = this.$data.currentItem;
      for (var i = 0; i < currentItem.attributes[attIndex].attributeValues.length; i++) {//将已经选择的置false
        currentItem.attributes[attIndex].attributeValues[i].isSelect = false;
      }
      currentItem.attributes[attIndex].attributeValues[valueIndex].isSelect = true; // 选择SKU
      this.$data.currentItem = {};
      this.$data.currentItem = currentItem; // 更新当前SKU信息
      this.$data.attIndex = attIndex; // 更新属性位置	
      this.$data.valueIndex = valueIndex; // 更新值位置			
      this.updateKey(); //设置当前key为SKU的序列号
    },

    addItemUn: function addItemUn() {
      if (this.$data.totalQuantity >= this.$data.currentItem.order_max_quantity) // 大于品类限制
        uni.showToast({
          title: "限购" + this.$data.currentItem.order_max_quantity + "件",
          icon: "loading",
          duration: 600 });

      if (this.$data.totalQuantity >= this.$data.currentItem.stock) // 大于库存
        uni.showToast({
          title: "暂无更多库存",
          icon: "loading",
          duration: 600 });

    },
    // 增加数量
    addItem: function addItem() {
      console.log("+");
      // this.updateCurrentItem()
      this.updateKey();
      this.updateOrder(true);
      // this.updateMenu(true)
      this.updateTotal();

      uni.setStorageSync("order", this.$data.order);
    },
    // 减少数量
    cutItem: function cutItem() {
      console.log("-");
      // this.updateCurrentItem()
      this.updateKey();
      this.updateOrder(false);
      // this.updateMenu(false)
      this.updateTotal();

      uni.setStorageSync("order", this.$data.order);
    },

    // 订单内的增删
    addOrder: function addOrder(categoryIndex, itemIndex, attIndex, valueIndex) {
      this.setData({
        categoryIndex: categoryIndex, // 当前选择的目录
        itemIndex: itemIndex, // 当前选择产品标志位
        attIndex: attIndex, //属性标志位
        valueIndex: valueIndex });

      this.addItem();

    },
    cutOrder: function cutOrder(categoryIndex, itemIndex, attIndex, valueIndex) {
      this.setData({
        categoryIndex: categoryIndex, // 当前选择的目录
        itemIndex: itemIndex, // 当前选择产品标志位
        attIndex: attIndex, //属性标志位
        valueIndex: valueIndex });

      this.cutItem();
      if (Object.keys(this.$data.order).length == 0)
      this.closeShow();
      // console.log(this.$data.order.length)
    },

    /////////////////公共工具///////////////

    // 设置当前订单
    updateCurrentItem: function updateCurrentItem() {
      this.setData({ currentItem: this.$data.list[this.$data.categoryIndex].products[this.$data.itemIndex] });
    },
    // 设置key
    updateKey: function updateKey() {
      var key = this.$data.categoryIndex + "_" + this.$data.itemIndex + "_";
      var currentItem = this.$data.currentItem;
      for (var i = 0; i < currentItem.attributes.length; i++) {
        for (var j = 0; j < currentItem.attributes[i].attributeValues.length; j++) {
          if (currentItem.attributes[i].attributeValues[j].isSelect == true) {
            key = key + i + "_" + j + "_";
          }
        }
      }
      this.$data.key = key;
    },

    // 更新已选择订单order
    updateOrder: function updateOrder(isAdd) {
      var order = this.$data.order;
      // var currentItem = this.$data.list[this.$data.categoryIndex].products[this.$data.itemIndex] // 当前
      var currentItem = this.$data.currentItem;
      var Attributes = []; //上传属性列表		
      var attDes = ""; // 属性描述
      for (var i = 0; i < currentItem.attributes.length; i++) {
        for (var j = 0; j < currentItem.attributes[i].attributeValues.length; j++) {
          if (currentItem.attributes[i].attributeValues[j].isSelect == true) {
            Attributes.push({
              "Id": currentItem.attributes[i].productAttributeID,
              "Value": currentItem.attributes[i].attributeValues[j].id });

            attDes = attDes + currentItem.attributes[i].attributeValues[j].name + "、";
          }
        }
      }
      attDes = attDes.substr(0, attDes.length - 1); // 删除最后一个字符
      var key = this.$data.key;
      if (order.hasOwnProperty(key) == false) {
        order[key] = {
          // 下单需要参数
          ProductId: currentItem.id,
          Quantity: 1,
          Attributes: Attributes,
          // 展示需要参数
          cover: currentItem.imgs ? currentItem.imgs[0] ? currentItem.imgs[0].src : "" : "",
          name: currentItem.name,
          price: currentItem.price,
          total: parseFloat(currentItem.price).toFixed(2),
          attDes: attDes,
          // 订单位置标记
          categoryIndex: this.$data.categoryIndex, // 当前选择的目录
          itemIndex: this.$data.itemIndex, // 当前选择产品标志位
          attIndex: this.$data.attIndex, //属性标志位
          valueIndex: this.$data.valueIndex // 值标志位
        };

      } else {
        if (isAdd)
        order[key].Quantity += 1;else
        {
          order[key].Quantity -= 1;
          order[key].Quantity < 0 ? 0 : order[key].Quantity;
        }
        order[key].total = parseFloat(order[key].Quantity * order[key].price).toFixed(2);
      }

      // 删除key下的数据
      if (order[key].Quantity <= 0)
      delete order[key];
      this.$data.order = [];
      this.$data.order = order;


      // console.log(key,Attributes,attDes)

      // order[key] = OrderItems
    },


    updateTotal: function updateTotal() {
      var totalPrice = 0;
      var totalQuantity = 0;
      var order = this.$data.order;
      for (var i in order) {
        totalPrice += order[i].Quantity * order[i].price;
        totalQuantity += order[i].Quantity;
      }
      console.log(totalPrice, totalQuantity);
      this.setData({
        totalPrice: parseFloat(totalPrice).toFixed(2),
        totalQuantity: parseInt(totalQuantity) });


      this.checkIsMore(); // 判断库存
    },

    /******路由******/
    toPay: function toPay() {
      uni.navigateTo({
        url: "/pages/order/pay" });

    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ })

},[[107,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/good/good.js.map